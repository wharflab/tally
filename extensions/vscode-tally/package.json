{
  "name": "tally",
  "displayName": "Tally",
  "version": "0.0.0",
  "description": "Dockerfile and Containerfile linter/formatter powered by tally",
  "categories": [
    "Formatters",
    "Linters"
  ],
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/tinovyatkin/tally"
  },
  "publisher": "wharflab",
  "main": "./dist/extension.cjs",
  "scripts": {
    "compile": "bun build src/extension.ts --outfile=dist/extension.cjs --format=cjs --target=node --external=vscode --sourcemap=inline",
    "typecheck": "tsgo",
    "lint": "oxlint --type-aware ./src",
    "format": "oxfmt --write .",
    "format:check": "oxfmt --check .",
    "test:e2e": "bun test test/e2e/*.test.ts",
    "vsce:package": "bunx @vscode/vsce package --no-dependencies"
  },
  "dependencies": {
    "vscode-languageclient": "^9.0.1"
  },
  "devDependencies": {
    "@types/bun": "1.3.9",
    "@types/node": "25.2.3",
    "@types/vscode": "1.109.0",
    "@typescript/native-preview": "7.0.0-dev.20260210.1",
    "@vscode/test-electron": "2.5.2",
    "@vscode/vsce": "3.7.1",
    "oxfmt": "0.31.0",
    "oxlint": "1.46.0",
    "oxlint-tsgolint": "0.11.5"
  },
  "contributes": {
    "commands": [
      {
        "command": "tally.restartServer",
        "title": "Tally: Restart server"
      },
      {
        "command": "tally.applyAllFixes",
        "title": "Tally: Fix all auto-fixable issues"
      },
      {
        "command": "tally.configureDefaultFormatterForDockerfile",
        "title": "Tally: Configure as default formatter for Dockerfile"
      }
    ],
    "configuration": {
      "title": "Tally",
      "properties": {
        "tally.enable": {
          "type": "boolean",
          "default": true,
          "description": "Enable the Tally language server."
        },
        "tally.path": {
          "type": "array",
          "default": [],
          "items": {
            "type": "string"
          },
          "description": "Explicit paths to a `tally` executable. First existing path wins."
        },
        "tally.importStrategy": {
          "type": "string",
          "default": "fromEnvironment",
          "enum": [
            "fromEnvironment",
            "useBundled"
          ],
          "description": "Where to resolve the `tally` binary from."
        },
        "tally.configuration": {
          "type": [
            "object",
            "null"
          ],
          "default": null,
          "description": "Inline configuration override (TOML-like object)."
        },
        "tally.configurationPreference": {
          "type": "string",
          "default": "editorFirst",
          "enum": [
            "editorFirst",
            "filesystemFirst",
            "editorOnly"
          ],
          "description": "How to merge VS Code settings with `.tally.toml` / `tally.toml`."
        },
        "tally.fixUnsafe": {
          "type": "boolean",
          "default": false,
          "description": "Allow manual 'Fix all' command to apply unsafe fixes."
        }
      }
    }
  },
  "activationEvents": [
    "onCommand:tally.applyAllFixes",
    "onCommand:tally.configureDefaultFormatterForDockerfile",
    "onCommand:tally.restartServer",
    "onLanguage:dockerfile"
  ],
  "icon": "assets/logo.png",
  "engines": {
    "vscode": "^1.96.0"
  }
}
